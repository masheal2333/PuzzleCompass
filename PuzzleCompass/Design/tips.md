# 拼图定位应用设计文档

我正在开发一款名为"拼图定位"的iOS应用（PuzzleCompass），它可以帮助用户确定拼图碎片在完整拼图中的位置。

注意生成控制：
1. 请分段生成内容，每次生成适量的内容以避免中断
2. 每次继续生成前，请先检查之前提示词中的变化并应用这些变化
3. 每完成一个小部分就停下来，等待确认后再继续
4. 如果内容过长，请拆分为多个独立部分逐一展示

功能需求：
1. 用户可以拍摄或上传一张完整拼图的照片作为参考
2. 用户可以拍摄或上传一个或多个拼图碎片的照片
3. 应用通过图像识别分析，在完整拼图上标记出碎片的位置，并清晰地标识是哪个具体的拼图碎片（当用户上传多个碎片时，要能区分每个碎片并显示其对应位置）
4. 显示匹配结果，并提供缩放和高亮功能以查看细节
5. 拍的照片不应该可以缩放，拍出的是什么就是什么
6. 对于完整的拼图，应该可以从拍过的照片自动扣出完整照片

设计要求：
1. 美观大方，视觉上令人愉悦，给人舒适感
2. 采用现代简约风格，避免过多装饰元素
3. 注重色彩搭配，使用和谐的配色方案（建议使用与拼图相关的柔和色调）
4. 界面元素之间要有适当留白，避免拥挤感
5. 图标和按钮设计要简洁明了，容易识别
6. 动画和过渡效果要自然流畅，增强用户体验
7. 字体选择要清晰易读，大小适中
8. 整体设计要统一协调，各个页面之间保持视觉一致性

请帮我设计以下UI/UX组件：
1. 主屏幕设计：简洁直观的界面，清晰展示"拍摄完整拼图"和"拍摄碎片"两个主要功能
2. 拍照/上传界面：支持相机拍摄和从相册选择图片
3. 结果展示界面：显示完整拼图与匹配到的碎片位置（高亮显示），对于多个碎片要有明确的视觉区分（如使用不同颜色标记或编号）
4. 导航流程：从开始到获得结果的完整用户旅程
5. 辅助功能：如图片调整、重新拍摄、多碎片管理等

技术要点：
- 应用使用SwiftUI开发
- 遵循iOS设计规范和最佳实践
- 支持深色模式和浅色模式，两种模式下都要保持美观
- 考虑不同屏幕尺寸的适配
- 确保界面元素间距恰当，避免在小屏幕设备上显示拥挤

用户动线设计：
1. 启动流程
   - 应用启动 → 主屏幕(首次使用时简短引导)

2. 核心功能流程(简化版)
   - 主屏幕 → "拍摄完整拼图"按钮 → 直接进入相机 → 拍摄照片 → 自动扣取完整拼图并保存 → 立即提示"现在拍摄碎片"
   - 接上步 → 直接进入拍摄碎片模式 → 拍摄/确认碎片 → 自动分析并显示结果界面
   - 可选路径：主屏幕 → "从相册选择"按钮 → 一次性选择完整拼图和碎片 → 自动识别并分析 → 结果界面

3. 结果界面交互流程
   - 结果展示界面 → 碎片在完整拼图上的位置高亮显示
   - 结果界面底部 → "拍摄更多碎片"按钮 → 直接进入相机 → 拍摄 → 实时更新结果
   - 右上角 → "完成"按钮 → 返回主屏幕

4. 辅助功能流程
   - 拍照界面 → 闪光灯/相册选择等简单控制
   - 结果界面 → 分享按钮 → 直接分享

5. 错误处理
   - 识别失败 → 简短提示 → 自动返回拍摄界面
   - 建议提示框显示直观拍摄引导

6. 多任务处理
   - 主屏幕 → 最近分析记录(自动保存) → 点击直接查看 